function e(e){let t;t=e.includes("-")?e.split("-"):e.split(" ");for(let e in t)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return t.join(" ")}async function t(e,t){let a=e.split(""),o=t.split("");document.getElementById("battleText1").innerHTML="",document.getElementById("battleText2").innerHTML="";for(let t=0;t<a.length;t++)document.getElementById("battleText1").innerHTML+=e[t],await n(30);for(let e=0;e<o.length;e++)document.getElementById("battleText2").innerHTML+=t[e],await n(30)}function n(e){return new Promise((t=>{setTimeout(t,e)}))}async function a(e,n){document.getElementById("battleBox1").classList.add("hide2"),document.getElementById("battleBox2").removeChild(document.getElementById("backButton")),document.getElementById("battleBox2").classList.add("flex","center2","evenly","hide2"),document.getElementById("battleText").classList.remove("hide2"),document.getElementById("fightButton1").classList.remove("hide2"),document.getElementById("fightButton2").classList.remove("hide2"),await t(e,n),document.getElementById("battleBox2").classList.remove("hide2");const a=document.getElementById("battleBox1"),o=document.getElementById("battleBox2");for(;a.lastChild&&a.lastChild!==document.getElementsByTagName("p");)a.lastChild.remove();let d=4;for(;o.lastChild&&o.lastChild===document.getElementById(`moveInfoDiv${d}`);)o.lastChild.remove(),d--;d=4}async function o(a,o,d,l,s){let i,m,c,r,u;0===l?(i=o,m=d,c="enemy",r=document.getElementById("actualHp1"),u=document.getElementById("hpBarPara1")):(i=d,m=o,c="you",r=document.getElementById("actualHp2"),u=document.getElementById("hpBarPara2"));let p,h,y=Math.floor(100*Math.random())+1;if(a.accuracy<y)return"enemy"===c?await t(`${e(i.name)} missed`,""):await t(`Enemy ${e(i.name)} missed`,""),void await n(200);let g=1,B=1,E=100-Math.floor(16*Math.random()),v=1,b=1;"physical"===a.atkType?(p=i.attack,h=m.defense):(p=i.specialAttack,h=m.specialDefense),i.type.includes(a.type)&&(g=1.5);for(let e in m.type)"0"===e?s[m.type[e]].double.map((e=>e.name)).includes(a.type)?v=2:s[m.type[e]].half.map((e=>e.name)).includes(a.type)?v=.5:s[m.type[e]].no.map((e=>e.name)).includes(a.type)&&(v=0):s[m.type[e]].double.map((e=>e.name)).includes(a.type)?b=2:s[m.type[e]].half.map((e=>e.name)).includes(a.type)?b=.5:s[m.type[e]].no.map((e=>e.name)).includes(a.type)&&(b=0);let f=Math.floor(Math.floor(Math.floor(Math.floor(Math.floor(22*a.damage*(p/(50*h))+2)*B)*(E/100))*g)*(v*b));for(v*b==0?await t("it had no effect...",""):v*b<=.5?await t("it's not very effective...",""):v*b>=2&&await t("It's super effective!",""),parseFloat((100*Math.random()).toFixed(2))<4.16&&(B=1.5,await n(200),await t("Critical Hit!",""),await n(200));f>0;){let a=parseFloat(r.outerText);if(u.style=`width: ${a/m.hitpoints*100}%;`,a/m.hitpoints*100<20?u.style=`width: ${a/m.hitpoints*100}%; background-color: red;`:a/m.hitpoints*100<50&&(u.style=`width: ${a/m.hitpoints*100}%; background-color: rgb(228, 209, 0);`),!(a>0)){document.getElementById("battleText")&&("enemy"===c?await t(`Enemy ${e(m.name)}`,"fainted!"):await t(`${e(m.name)}`,"fainted!")),await n(500);const a=document.getElementById("battleArena");for(;a.firstChild;)a.firstChild.remove();return document.getElementById("pokeSelection").classList.remove("hide"),document.getElementById("showArea").classList.remove("hide"),document.getElementById("battleArena").classList.add("hide"),document.getElementById("start").classList.remove("hide"),document.getElementById("choose").classList.remove("hide"),document.getElementById("yourPokemon").classList.remove("hide"),document.getElementById("enemyPokemon").classList.remove("hide"),void document.getElementById("body").classList.remove("BattleBack")}r.innerText=""+(a-1),f--,await n(50)}if("struggle"===a.name){let a,o,d=Math.floor(.25*i.hitpoints);for("enemy"===c?(a=document.getElementById("actualHp2"),o=document.getElementById("hpBarPara2")):(a=document.getElementById("actualHp1"),o=document.getElementById("hpBarPara1"));d>0;){if(a/i.hitpoints*100<20?o.style=`width: ${a/i.hitpoints*100}%; background-color: red`:a/i.hitpoints*100<50?o.style=`width: ${a/i.hitpoints*100}%; background-color: rgb(228, 209, 0)`:o.style=`width: ${a/i.hitpoints*100}%`,!(a>0)){document.getElementById("battleText")&&("you"===c?await t(`Enemy ${e(i.name)}`,"fainted!"):await t(`${e(i.name)}`,"fainted!")),await n(500);const a=document.getElementById("battleArena");for(;a.firstChild;)a.firstChild.remove();return document.getElementById("pokeSelection").classList.remove("hide"),document.getElementById("showArea").classList.remove("hide"),document.getElementById("battleArena").classList.add("hide"),document.getElementById("start").classList.remove("hide"),document.getElementById("choose").classList.remove("hide"),document.getElementById("yourPokemon").classList.remove("hide"),document.getElementById("enemyPokemon").classList.remove("hide"),void document.getElementById("body").classList.remove("BattleBack")}a.innerText=""+(a-1),d--,await n(50)}}}async function d(a,d,l,s,i){let m,c;5===a?(c="struggle",d[l[0]].pokeMoves[c]={name:"struggle",atkType:"physical",power:50,accuracy:100}):(m=document.getElementById(`moveButton${a+1}`),c=m.value),document.getElementById("battleBox1").classList.add("hide2"),document.getElementById("battleBox2").classList.add("hide2"),document.getElementById("battleText").classList.remove("hide2");let r,u=Math.floor(100*Math.random())+1;r=d[l[0]].speed===d[l[1]].speed?u>50?"you":"enemy":d[l[0]].speed>d[l[1]].speed?"you":"enemy","you"===r?(await t(`${e(l[0])} used`,`${e(c)}!`),await n(200),await o(d[l[0]].pokeMoves[c],d[l[0]],d[l[1]],0,i),document.getElementById("battleText")&&(await n(500),await t(`Enemy ${e(l[1])} used`,`${e(s.name)}!`),await n(200),await o(s,d[l[0]],d[l[1]],1,i),await n(500))):(await t(`Enemy ${e(l[1])} used`,`${e(s.name)}!`),await n(200),await o(s,d[l[0]],d[l[1]],1,i),document.getElementById("battleText")&&(await n(500),await t(`${e(l[0])} used`,`${e(c)}!`),await n(200),await o(d[l[0]].pokeMoves[c],d[l[0]],d[l[1]],0,i),await n(500))),document.getElementById("battleBox2")&&document.getElementById("battleBox2").classList.remove("hide2")}!async function(t,n){const a={},o={},d={};for(let t=1;t<=151;t++){const n=await fetch(`https://pokeapi.co/api/v2/pokemon/${t}`),d=await n.json();a[d.name]={name:d.name,type:(l=d.types,l.map((e=>e.type.name))),hitpoints:Math.floor(50*(2*d.stats[0].base_stat+31)/100+50+10),attack:Math.floor(50*(2*d.stats[1].base_stat+31)/100+5),defense:Math.floor(50*(2*d.stats[2].base_stat+31)/100+5),specialAttack:Math.floor(50*(2*d.stats[3].base_stat+31)/100+5),specialDefense:Math.floor(50*(2*d.stats[4].base_stat+31)/100+5),speed:Math.floor(50*(2*d.stats[5].base_stat+31)/100+5),allMoves:d.moves.map((e=>e.move.name)),pokeMoves:{},spriteFront:`src/pokemonSprites/FurretTurret/${e(d.name)}.gif`,battleSpriteFront:`src/pokemonSprites/front/${d.id}.gif`,battleSpriteBack:`src/pokemonSprites/back/${d.id}.gif`};for(let e=0;e<d.moves.length;e++)if(!o[d.moves[e].move.name]){const t=await fetch(d.moves[e].move.url);o[d.moves[e].move.name]=await t.json()}}var l;for(let e=1;e<=18;e++){const t=await fetch(`https://pokeapi.co/api/v2/type/${e}`),n=await t.json();d[n.name]={name:n.name,double:n.damage_relations.double_damage_from,half:n.damage_relations.half_damage_from,no:n.damage_relations.no_damage_from}}t(await n(a,o),d)}((function(o,l){let s=document.querySelectorAll("[data-pokemon]");for(let t in o)for(let n=0;n<2;n++){let a=document.createElement("option");a.value=o[t].name,a.innerHTML=e(o[t].name),s[n].appendChild(a)}document.getElementById("load").classList.add("hide");const i=[];document.getElementById("choose").onclick=()=>{document.getElementById("pokemonShow")&&document.getElementById("chosenNames")&&document.getElementById("attacks")&&(document.getElementById("showArea").removeChild(document.getElementById("pokemonShow")),document.getElementById("showArea").removeChild(document.getElementById("chosenNames")),document.getElementById("showArea").removeChild(document.getElementById("attacks"))),document.getElementById("choose").innerHTML="Change",document.getElementById("start").classList.remove("hide");let t=document.createElement("div"),n=document.createElement("div");t.setAttribute("id","chosenNames"),t.setAttribute("class","flex between"),n.setAttribute("id","pokemonShow"),n.setAttribute("class","flex"),document.getElementById("showArea").appendChild(t),document.getElementById("showArea").appendChild(n);for(let e=0;e<2;e++){let a=s[e].value.toLowerCase(),d=document.createElement("div"),l=document.createElement("figure"),m=document.createElement("h2"),c=document.createElement("img");d.setAttribute("id",`pokemon${e+1}`),d.setAttribute("class","flex half gap2 showCaseCon center1"),l.setAttribute("class","flex align-end"),c.setAttribute("src",o[a].spriteFront),m.setAttribute("class","half textCenter"),m.setAttribute("id",`pokeName${e+1}`),i.splice(e,1,o[a].name),m.innerHTML=o[a].name,n.appendChild(d),t.appendChild(m),d.appendChild(l),l.appendChild(c)}let a=document.createElement("div");a.setAttribute("id","attacks"),a.setAttribute("class","flex gap"),document.getElementById("showArea").appendChild(a);for(let t=0;t<4;t++){let n=document.createElement("div"),a=document.createElement("select"),d=document.createElement("p");n.setAttribute("class","flex column gap center1 center2"),a.setAttribute("id",`attack${t+1}`),d.setAttribute("id",`info${t+1}`),d.setAttribute("class","infoText"),a.setAttribute("class","attackPKM"),document.getElementById("attacks").appendChild(n),n.appendChild(a),n.appendChild(d);let l=s[0].value.toLowerCase();for(let t in o[l].pokeMoves){let n=document.createElement("option");n.value=o[l].pokeMoves[t].name,n.innerHTML=e(o[l].pokeMoves[t].name),a.appendChild(n)}document.querySelector(`#attack${t+1} option:nth-of-type(${t+1})`).setAttribute("selected",""),document.getElementById(`info${t+1}`).innerHTML=`\n            Power: ${o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].damage}<br>\n            Type: ${e(o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].type)}<br>\n            Accuracy: ${o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].accuracy}`,document.getElementById(`attack${t+1}`).onchange=()=>{document.getElementById(`info${t+1}`).innerHTML=`\n                Power: ${o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].damage}<br>\n                Type: ${e(o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].type)}<br>\n                Accuracy: ${o[l].pokeMoves[document.getElementById(`attack${t+1}`).value.toLowerCase()].accuracy}`}}},document.getElementById("start").onclick=async()=>{for(let e=0;e<4;e++){let t=document.getElementById(`attack${e+1}`).value;for(let n=0;n<4;n++){let a;switch(e+1){case 1:0!==n&&(a=document.getElementById(`attack${n+1}`).value);break;case 2:1!==n&&(a=document.getElementById(`attack${n+1}`).value);break;case 3:2!==n&&(a=document.getElementById(`attack${n+1}`).value);break;case 4:3!==n&&(a=document.getElementById(`attack${n+1}`).value)}if(t===a)return alert("You need to chose 4 different moves!")}}document.getElementById("pokeSelection").classList.add("hide"),document.getElementById("showArea").classList.add("hide"),document.getElementById("battleArena").classList.remove("hide"),document.getElementById("start").classList.add("hide"),document.getElementById("choose").classList.add("hide"),document.getElementById("yourPokemon").classList.add("hide"),document.getElementById("enemyPokemon").classList.add("hide"),document.getElementById("body").classList.add("BattleBack");const s=document.createElement("div"),m=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div");c.setAttribute("class","battleBackground flex column"),s.setAttribute("class","battleDiv flex center2 fullsize"),s.setAttribute("id","pokeDiv1"),m.setAttribute("class","battleDiv flex center2 justify-end fullsize"),m.setAttribute("id","pokeDiv2"),r.setAttribute("class","battleTextDiv flex between fullsize"),document.getElementById("battleArena").classList.add("flex","column"),document.getElementById("battleArena").appendChild(c),c.appendChild(s),c.appendChild(m),document.getElementById("battleArena").appendChild(r);for(let t=0;t<2;t++){const n=document.createElement("figure"),a=document.createElement("img"),d=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),m=document.createElement("div"),c=document.createElement("div"),r=document.createElement("p"),u=document.createElement("p"),p=document.createElement("p"),h=document.createElement("span"),y=document.createElement("span");d.setAttribute("class","infoContainer flex column align-end"),l.setAttribute("class","nameContainer fullsize flex between"),s.setAttribute("class","hpBar"),d.appendChild(l),d.appendChild(s),l.appendChild(r),l.appendChild(u),c.setAttribute("class","hpBarBorder"),m.setAttribute("class","hpBarPara"),m.setAttribute("id",`hpBarPara${t+1}`),h.setAttribute("id",`actualHp${t+1}`),y.setAttribute("id",`maxHp${t+1}`),s.appendChild(c),c.appendChild(m),d.appendChild(p),p.appendChild(h),p.appendChild(y),0===t?(n.setAttribute("class","flex align-end center1"),a.setAttribute("src",o[i[1]].battleSpriteFront),p.setAttribute("class","hide2"),document.getElementById("pokeDiv1").appendChild(d),document.getElementById("pokeDiv1").appendChild(n),r.innerText=`${e(o[i[1]].name)}`,u.innerText="Lv50",document.getElementById(`actualHp${t+1}`).innerText=`${o[i[1]].hitpoints}`,document.getElementById(`maxHp${t+1}`).innerText=`/${o[i[1]].hitpoints}`):1===t&&(n.setAttribute("class","flex align-end center1"),a.setAttribute("src",o[i[0]].battleSpriteBack),document.getElementById("pokeDiv2").appendChild(n),document.getElementById("pokeDiv2").appendChild(d),r.innerText=`${e(o[i[0]].name)}`,u.innerText="Lv50",document.getElementById(`actualHp${t+1}`).innerText=`${o[i[0]].hitpoints}`,document.getElementById(`maxHp${t+1}`).innerText=`/${o[i[0]].hitpoints}`),n.appendChild(a)}const u=document.createElement("div"),p=document.createElement("div"),h=document.createElement("p"),y=document.createElement("span"),g=document.createElement("span"),B=document.createElement("button"),E=document.createElement("button");u.setAttribute("class","battleBox hide2"),u.setAttribute("id","battleBox1"),p.setAttribute("class","battleBox flex center2 evenly"),p.setAttribute("id","battleBox2"),h.setAttribute("class","battleText flex column"),h.setAttribute("id","battleText"),y.setAttribute("id","battleText1"),g.setAttribute("id","battleText2"),B.setAttribute("class","fightButtons"),B.setAttribute("id","fightButton1"),E.setAttribute("class","fightButtons"),E.setAttribute("id","fightButton2"),B.innerText="Fight",E.innerText="Run",r.appendChild(h),r.appendChild(u),h.appendChild(y),h.appendChild(g),p.appendChild(B),p.appendChild(E),await t("What will",`${e(o[i[0]].name)} do?`),r.appendChild(p);let v=o[i[0]].pokeMoves[document.getElementById("attack1").value.toLowerCase()].powerpoints,b=o[i[0]].pokeMoves[document.getElementById("attack2").value.toLowerCase()].powerpoints,f=o[i[0]].pokeMoves[document.getElementById("attack3").value.toLowerCase()].powerpoints,I=o[i[0]].pokeMoves[document.getElementById("attack4").value.toLowerCase()].powerpoints,k=Object.values(o[i[1]].pokeMoves);const w=[];for(;w.length<4;){let e=Math.floor(Math.random()*k.length);w.includes(k[e])||w.push(k[e])}const L=[];L.push(w[0]),L.push(w[1]),L.push(w[2]),L.push(w[3]),B.onclick=()=>{document.getElementById("battleBox2").classList.remove("flex","center2","evenly"),document.getElementById("fightButton1").classList.add("hide2"),document.getElementById("fightButton2").classList.add("hide2"),h.classList.add("hide2"),u.classList.remove("hide2"),u.classList.add("flex","wrap","center2","evenly","gap");for(let y=0;y<4;y++){const g=document.createElement("div"),B=document.createElement("button"),E=document.createElement("div"),k=document.createElement("p"),w=document.createElement("span");switch(g.setAttribute("class","moveButtonDiv"),E.setAttribute("class","moveInfoDiv hide2"),E.setAttribute("id",`moveInfoDiv${y+1}`),B.setAttribute("id",`moveButton${y+1}`),B.setAttribute("class","fightButtons moveButtons"),B.value=document.getElementById(`attack${y+1}`).value,B.innerText=e(document.getElementById(`attack${y+1}`).value),u.appendChild(g),g.appendChild(B),p.appendChild(E),E.appendChild(k),k.innerHTML=document.getElementById(`info${y+1}`).outerHTML,k.appendChild(w),B.addEventListener("mouseover",s,!1),B.addEventListener("mouseout",m,!1),y+1){case 1:w.innerText=`PP: ${v}/${o[i[0]].pokeMoves[document.getElementById(`attack${y+1}`).value.toLowerCase()].powerpoints}`;break;case 2:w.innerText=`PP: ${b}/${o[i[0]].pokeMoves[document.getElementById(`attack${y+1}`).value.toLowerCase()].powerpoints}`;break;case 3:w.innerText=`PP: ${f}/${o[i[0]].pokeMoves[document.getElementById(`attack${y+1}`).value.toLowerCase()].powerpoints}`;break;case 4:w.innerText=`PP: ${I}/${o[i[0]].pokeMoves[document.getElementById(`attack${y+1}`).value.toLowerCase()].powerpoints}`}function s(){E.classList.remove("hide2")}function m(){E.classList.add("hide2")}}function c(s,m){document.getElementById(`moveButton${m+1}`).onclick=async()=>{let c=Math.floor(Math.random()*L.length),r=L[c];if(0!==L[0].powerpoints||0!==L[1].powerpoints||0!==L[2].powerpoints||0!==L[3].powerpoints)for(;0===L[c].powerpoints;)c=Math.floor(Math.random()*L.length);else r={name:"struggle",atkType:"physical",power:50,accuracy:100};if(0===v&&0===b&&0===f&&0===I){const t=5;await d(t,o,i,r,l),document.getElementById("backButton")&&a("What will",`${e(o[i[0]].name)} do?`)}else if(0===s)document.getElementById("battleBox1").classList.add("hide2"),document.getElementById("battleBox2").classList.add("hide2"),document.getElementById("battleText").classList.remove("hide2"),await t("Not enought PP",""),await n(500),document.getElementById("battleBox1").classList.remove("hide2"),document.getElementById("battleBox2").classList.remove("hide2"),document.getElementById("battleText").classList.add("hide2");else{switch(m+1){case 1:v--,L[c].powerpoints--;break;case 2:b--,L[c].powerpoints--;break;case 3:f--,L[c].powerpoints--;break;case 4:I--,L[c].powerpoints--}await d(m,o,i,r,l),document.getElementById("backButton")&&a("What will",`${e(o[i[0]].name)} do?`)}}}for(let $=0;$<4;$++)switch($+1){case 1:c(v,$);break;case 2:c(b,$);break;case 3:c(f,$);break;case 4:c(I,$)}const r=document.createElement("button");r.setAttribute("class","backButton"),r.setAttribute("id","backButton"),r.innerHTML=">",p.appendChild(r),document.getElementById("backButton").onclick=()=>a("What will",`${e(o[i[0]].name)} do?`)},E.onclick=()=>{const e=document.getElementById("battleArena");for(;e.firstChild;)e.firstChild.remove();document.getElementById("pokeSelection").classList.remove("hide"),document.getElementById("showArea").classList.remove("hide"),document.getElementById("battleArena").classList.add("hide"),document.getElementById("start").classList.remove("hide"),document.getElementById("choose").classList.remove("hide"),document.getElementById("yourPokemon").classList.remove("hide"),document.getElementById("enemyPokemon").classList.remove("hide"),document.getElementById("body").classList.remove("BattleBack")}}}),(function(e,t){for(let n in e)for(const a in t)e[n].allMoves.includes(a)&&null!==t[a].power&&(e[n].pokeMoves[a]={name:t[a].name,type:t[a].type.name,atkType:t[a].damage_class.name,damage:t[a].power,powerpoints:t[a].pp,accuracy:t[a].accuracy});return e}));
//# sourceMappingURL=index.dcb15070.js.map
